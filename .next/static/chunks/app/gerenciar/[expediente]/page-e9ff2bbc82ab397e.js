(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{2452:function(e,t,n){Promise.resolve().then(n.bind(n,2947))},2947:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7437),s=n(2265),i=n(6463),r=n(4379),c=n.n(r),d=n(4655),o=n.n(d);function u(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[l,h]=(0,s.useState)({});(0,i.useRouter)();let{expediente:x}=(0,i.useParams)();(0,s.useEffect)(()=>{!async function(){let e=await fetch("http://localhost:3004/guardas?expediente="+x);t(await e.json()),r(!1)}()},[x]);let m=(e,t)=>{u(e),h(t)},j=e=>{let{name:t,value:n}=e.target;h({...l,[t]:n})},p=async n=>{await fetch("http://localhost:3004/guardas/"+n,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(l)}),t(e.map(e=>e.id===n?{...e,...l}:e)),u(null),c().fire("Guarda atualizado com sucesso")},f=async n=>{await fetch("http://localhost:3004/guardas/"+n,{method:"DELETE"}),t(e.filter(e=>e.id!==n)),c().fire("Guarda exclu\xeddo com sucesso")};return n?(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"Carregando..."})}):(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsxs)("h1",{className:o().heading,children:["Gerenciar Expediente: ",x]}),(0,a.jsxs)("table",{className:o().table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Nome"}),(0,a.jsx)("th",{children:"Expediente"}),(0,a.jsx)("th",{children:"Turno"}),(0,a.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:d===e.id?(0,a.jsx)("input",{type:"text",name:"nome",value:l.nome,onChange:j}):e.nome}),(0,a.jsx)("td",{children:d===e.id?(0,a.jsx)("input",{type:"text",name:"expediente",value:l.expediente,onChange:j}):e.expediente}),(0,a.jsx)("td",{children:e.turno}),(0,a.jsx)("td",{children:d===e.id?(0,a.jsx)("button",{className:o().button,onClick:()=>p(e.id),children:"Salvar"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:o().button,onClick:()=>m(e.id,{nome:e.nome,expediente:e.expediente}),children:"Editar"}),(0,a.jsx)("button",{className:o().button,onClick:()=>f(e.id),children:"Excluir"})]})})]},e.id))})]})]})}},6463:function(e,t,n){"use strict";var a=n(1169);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},4655:function(e){e.exports={container:"Gerenciar_container__IaorF",heading:"Gerenciar_heading__q1Y1u",table:"Gerenciar_table__qacE2",button:"Gerenciar_button__VRY8R",select:"Gerenciar_select__4FXDs"}}},function(e){e.O(0,[45,461,971,23,744],function(){return e(e.s=2452)}),_N_E=e.O()}]);