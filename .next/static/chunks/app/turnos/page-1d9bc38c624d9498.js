(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{6081:function(e,r,s){Promise.resolve().then(s.bind(s,61))},61:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return l}});var n=s(7437),a=s(2265),o=s(6463),t=s(4379),i=s.n(t),c=s(9691),u=s.n(c),d=s(5350);function l(){let[e,r]=(0,a.useState)([]),[s,t]=(0,a.useState)(!0),c=(0,o.useRouter)();async function l(){let e=await fetch("http://localhost:3004/guardas");e.ok?(r(await e.json()),t(!1)):i().fire("Erro ao carregar dados do servidor")}(0,a.useEffect)(()=>{l()},[]);let m=Object.entries(e.reduce((e,r)=>(e[r.turno]||(e[r.turno]=[]),e[r.turno].push(r),e),{})).map(e=>{let[r,s]=e,a=s.find(e=>e.coordenador)||{nome:"N\xe3o atribu\xeddo"},o=s.find(e=>Array.isArray(e.fiscal)&&e.fiscal.includes("on"))||{nome:"N\xe3o atribu\xeddo"};return(0,n.jsxs)("div",{className:u().coluna,children:[(0,n.jsx)("div",{className:u().header,children:(0,n.jsxs)("h2",{className:u().title,children:["Turno: ",r]})}),(0,n.jsx)("div",{className:u().card,children:(0,n.jsxs)("div",{className:u().body,children:[(0,n.jsxs)("div",{className:u().item,children:[(0,n.jsx)("span",{children:"Coordenador:"}),(0,n.jsx)("span",{children:a.nome})]}),(0,n.jsxs)("div",{className:u().item,children:[(0,n.jsx)("span",{children:"Fiscal:"}),(0,n.jsx)("span",{children:o.nome})]})]})}),s.filter(e=>!e.coordenador&&!(Array.isArray(e.fiscal)&&e.fiscal.includes("on"))).map(e=>(0,n.jsx)("div",{className:u().card,children:(0,n.jsx)("div",{className:u().body,children:(0,n.jsxs)("div",{className:u().item,children:[(0,n.jsx)("span",{children:"Nome:"}),(0,n.jsx)("span",{children:e.nome})]})})},e.id)),(0,n.jsx)("button",{className:u().buttonGerenciar,onClick:()=>c.push("/gerenciar-turnos/"+r),children:"Gerenciar Turno"})]},r)});async function f(e){if(e.pesq.length<2){i().fire("Digite, NO MINIMO, 2 caracteres");return}let s=e.pesq.toUpperCase(),n=await fetch("http://localhost:3004/guardas");if(n.ok){let e=(await n.json()).filter(e=>e.nome.toUpperCase().includes(s)||e.turno.toUpperCase().includes(s));if(0==e.length){i().fire("Nenhum registro encontrado");return}r(e)}else i().fire("Erro ao carregar dados do servidor")}return(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsx)(d.Z,{onSubmit:f}),(0,n.jsx)("button",{className:u().mostrarTodos,onClick:l,children:"Mostrar Todos"}),(0,n.jsx)("div",{className:u().grid,children:m})]})}},5350:function(e,r,s){"use strict";s.d(r,{Z:function(){return i}});var n=s(7437),a=s(2265),o=s(6717),t=s.n(o);function i(e){let{onSubmit:r}=e,[s,o]=(0,a.useState)("");return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({pesq:s})},className:t().form,children:[(0,n.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Pesquisar..."}),(0,n.jsx)("button",{type:"submit",children:"Pesquisar"})]})}},6463:function(e,r,s){"use strict";var n=s(1169);s.o(n,"useParams")&&s.d(r,{useParams:function(){return n.useParams}}),s.o(n,"useRouter")&&s.d(r,{useRouter:function(){return n.useRouter}})},6717:function(e){e.exports={form:"Pesquisa_form__mE6OM"}},9691:function(e){e.exports={container:"Turnos_container__qA643",grid:"Turnos_grid__GRXVE",coluna:"Turnos_coluna__n2_AD",title:"Turnos_title__V_vJN",header:"Turnos_header__Uj1Xy",card:"Turnos_card__WBh70",body:"Turnos_body__Au4A_",item:"Turnos_item__Rj9Rd",buttonGerenciar:"Turnos_buttonGerenciar__co2_f",mostrarTodos:"Turnos_mostrarTodos__1eNHV"}}},function(e){e.O(0,[122,11,461,971,23,744],function(){return e(e.s=6081)}),_N_E=e.O()}]);