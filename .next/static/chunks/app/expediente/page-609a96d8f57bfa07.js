(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{9861:function(e,n,s){Promise.resolve().then(s.bind(s,8550))},8550:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return u}});var t=s(7437),r=s(2265),i=s(6463),a=s(4379),c=s.n(a),o=s(2495),d=s.n(o),l=s(5350);function u(){let[e,n]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),o=(0,i.useRouter)();(0,r.useEffect)(()=>{!async function(){let e=await fetch("http://localhost:3004/guardas");n(await e.json()),a(!1)}()},[]);let u=Object.entries(e.reduce((e,n)=>(e[n.expediente]||(e[n.expediente]=[]),e[n.expediente].push(n),e),{})).map(e=>{let[n,s]=e,r=s.find(e=>e.coordenador)||{nome:"N\xe3o atribu\xeddo"},i=s.find(e=>Array.isArray(e.fiscal)&&e.fiscal.includes("on"))||{nome:"N\xe3o atribu\xeddo"};return(0,t.jsxs)("div",{className:d().coluna,children:[(0,t.jsx)("div",{className:d().header,children:(0,t.jsxs)("h2",{className:d().title,children:["EXPEDIENTE: ",n]})}),(0,t.jsx)("div",{className:d().card,children:(0,t.jsxs)("div",{className:d().body,children:[(0,t.jsxs)("div",{className:d().item,children:[(0,t.jsx)("span",{children:"Coordenador:"}),(0,t.jsx)("span",{children:r.nome})]}),(0,t.jsxs)("div",{className:d().item,children:[(0,t.jsx)("span",{children:"Fiscal:"}),(0,t.jsx)("span",{children:i.nome})]})]})}),s.filter(e=>!e.coordenador&&!(Array.isArray(e.fiscal)&&e.fiscal.includes("on"))).map(e=>(0,t.jsx)("div",{className:d().card,children:(0,t.jsx)("div",{className:d().body,children:(0,t.jsxs)("div",{className:d().item,children:[(0,t.jsx)("span",{children:"Nome:"}),(0,t.jsx)("span",{children:e.nome})]})})},e.id)),(0,t.jsx)("button",{className:d().buttonGerenciar,onClick:()=>o.push("/gerenciar/"+n),children:"Gerenciar"})]},n)});async function h(e){if(e.pesq.length<2){c().fire("Digite, NO MINIMO, 2 caracteres");return}let s=e.pesq.toUpperCase(),t=await fetch("http://localhost:3004/guardas"),r=(await t.json()).filter(e=>e.nome.toUpperCase().includes(s)||e.expediente.toUpperCase().includes(s)||e.turno.toUpperCase().includes(s));if(0===r.length){c().fire("Nenhum registro encontrado");return}n(r)}async function m(){let e=await fetch("http://localhost:3004/guardas");n(await e.json())}return s?(0,t.jsx)("div",{children:(0,t.jsx)("h1",{children:"Carregando..."})}):(0,t.jsxs)("div",{className:d().container,children:[(0,t.jsx)(l.Z,{onSubmit:h}),(0,t.jsx)("div",{className:d().buttonContainer,children:(0,t.jsx)("button",{onClick:m,className:d().mostrarTodos,children:"Mostrar Todos"})}),(0,t.jsx)("div",{className:d().grid,children:u})]})}},5350:function(e,n,s){"use strict";s.d(n,{Z:function(){return c}});var t=s(7437),r=s(2265),i=s(6717),a=s.n(i);function c(e){let{onSubmit:n}=e,[s,i]=(0,r.useState)("");return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({pesq:s})},className:a().form,children:[(0,t.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Pesquisar..."}),(0,t.jsx)("button",{type:"submit",children:"Pesquisar"})]})}},6463:function(e,n,s){"use strict";var t=s(1169);s.o(t,"useParams")&&s.d(n,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(n,{useRouter:function(){return t.useRouter}})},2495:function(e){e.exports={container:"Expediente_container__oY8eN",grid:"Expediente_grid__1TkFe",coluna:"Expediente_coluna__Zwe8X",title:"Expediente_title___RswS",header:"Expediente_header__VUAty",card:"Expediente_card__gavdC",body:"Expediente_body__huqfb",item:"Expediente_item__ZU2K6",buttonGerenciar:"Expediente_buttonGerenciar__kGLCg",mostrarTodos:"Expediente_mostrarTodos__egvdm"}},6717:function(e){e.exports={form:"Pesquisa_form__mE6OM"}}},function(e){e.O(0,[11,461,971,23,744],function(){return e(e.s=9861)}),_N_E=e.O()}]);